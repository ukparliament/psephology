<%= render :partial => 'previous_next', :object => @general_election %>

<%= render :partial => 'general_election/nav' %>

<%= render :partial => 'general_election/counts', :object => @general_election %>

<% unless @elections.empty? %>
	<% if @elections.first.declaration_at -%>
		<div class="table-wrapper">
			<table>
				<thead>
					<tr>
						<%= content_tag( 'td', 'Ranking' ) %>
						<%= content_tag( 'td', 'Constituency' ) %>
						<%= content_tag( 'td', 'Winning candidate' ) %>
						<%= content_tag( 'td', 'Winning party' ) %>
						<%= content_tag( 'td', 'Valid vote count', :class => 'number' ) %>
						<%= content_tag( 'td', 'Invalid vote count', :class => 'number' ) %>
						<%= content_tag( 'td', 'Majority', :class => 'number' ) %>
						<%= content_tag( 'td', 'Declaration time' ) %>
					</tr>
				</thead>
				<tbody>
					<%= render :partial => 'election', :collection => @elections %>
				</tbody>
			</table>
		</div>
		<%= render :partial => 'declaration_time/caveat' %>
		<div id="downloads">
			<p>
				<%= csv_icon_link(	general_election_declaration_time_list_url( :format => 'csv' ), "Download the data shown on this page: declaration time data as a CSV file." ) %>
			</p>
			<p>
				<%= csv_icon_link(	general_election_candidacy_list_url( :format => 'csv' ), "Download the full data set: candidate-level general election result data as a CSV file." ) %>
			</p>
		</div>
	<% else -%>
		<%= content_tag( 'p', "Declaration times are not available." ) %>
	<% end -%>
<% end -%>